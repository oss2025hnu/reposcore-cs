# reposcore-cs
A CLI for scoring student participation in an open-source class repo, implemented in C#.

**주의**: 처음 만들 때 dotnet 7.0으로 환경을 설정했다 8.0으로 설정을 바꿨기 때문에 그 이전에 Codespace를 생성한 경우 코드스페이스 vscode 에디터에서 `Ctrl-Shift-P`를 누르고 rebuild로 검색해서 Codespace rebuild를 선택하면 8.0 환경으로 다시 가상머신이 만들어집니다. (단, 기존에 컨테이너 안에 있는 파일들은 깃헙에 push하지 않은 내용들 중에 필요한 게 있으면 혹시 모르니 백업해 놓아야 ...)

## 참여조건
해당 repository는 프로젝트 참여 점수 10점 미만인 학생만 참여할 수 있습니다
## Score Formula
아래는 PR 개수와 이슈 개수의 비율에 따라 점수로 인정가능한 최대 개수를 구하고 각 배점에 따라 최종 점수를 산출하는 공식이다.

- $P_{fb}$ : 기능 또는 버그 관련 Merged PR 개수 (**3점**) ($P_{fb} = P_f + P_b$)  
- $P_d$ : 문서 관련 Merged PR 개수 (**2점**)  
- $P_t$ : 오타 수정 Merged PR 개수 (**1점**)  
- $I_{fb}$ : 기능 또는 버그 관련 Open 또는 해결된 이슈 개수 (**2점**) ($I_{fb} = I_f + I_b$)  
- $I_d$ : 문서 관련 Open 또는 해결된 이슈 개수 (**1점**)

$P_{\text{valid}} = P_{fb} + \min(P_d + P_t, 3 \times \max(P_{fb}, 1)) \quad$ 점수 인정 가능 PR 개수  
$I_{\text{valid}} = \min(I_{fb} + I_d, 4 \times P_{\text{valid}}) \quad$ 점수 인정 가능 이슈 개수

PR의 점수를 최대로 하기 위해 기능/버그 PR을 먼저 계산한 후 문서 PR과 오타 PR을 계산합니다.  
($P_{fb}$이 0일 경우에도 문서 PR과 오타 PR 합산으로 최대 3개까지 인정됩니다.)

$P_{fb}^* = \min(P_{fb}, P_{\text{valid}}) \quad$ 기능/버그 PR 최대 포함  
$P_d^* = \min(P_d, P_{\text{valid}} - P_{fb}^*) \quad$ 문서 PR 포함  
$P_t^* = P_{\text{valid}} - P_{fb}^* - P_d^* \quad$ 남은 개수에서 오타 PR 포함

이슈의 점수를 최대로 하기 위해 기능/버그 이슈를 먼저 계산한 후 문서 이슈를 계산합니다.

$I_{fb}^* = \min(I_{fb}, I_{\text{valid}}) \quad$ 기능/버그 이슈 최대 포함  
$I_d^* = I_{\text{valid}} - I_{fb}^* \quad$ 남은 개수에서 문서 이슈 포함

최종 점수 계산 공식:  
$S = 3P_{fb}^* + 2P_d^* + 1P_t^* + 2I_{fb}^* + 1I_d^*$

## CLI 구현 설명

아래는 본 프로젝트에 사용된 Cocona 기반 CLI 코드입니다.  
기본적인 명령행 인자 처리와 `--verbose` 옵션을 실험하는 용도로 작성되었습니다.

## 사용 방법
 
아래 명령어를 통해 CLI를 실행할 수 있습니다.
 
```bash
dotnet run -- repo1 repo2
dotnet run -- repo1 repo2 --verbose
dotnet run -- --version
dotnet run -- --help

```
 
## 실행 예시
 
```bash
$ dotnet run -- repo1 repo2
Repository: repo1
repo2
 
$ dotnet run -- repo1 repo2 --verbose
Repository: repo1
repo2
Verbose mode is enabled.
```

# [프로젝트 기여 및 작업 규칙 (C# 저장소)](./docs/project_guidelines.md)

---

## 1. 기여 비율 규칙

| 항목 | 비율 제한 |
|------|------------|
| PR 개수 : 이슈 개수 | 1 : 4 |
| 기능/버그 PR : 문서화 PR | 1 : 3 |

- **해당 비율을 초과하는 활동은 점수로 인정되지 않음**
- 단, **자율적 작업은 가능**하나, 평가 기준에는 포함되지 않음

---

## 2. 점수 기준표

##  기능/버그 관련

| 활동 | 점수 |
|------|------|
| 이슈 작성 | 2점 |
| PR (병합된 경우) | 3점 |

**유의사항**
- 구체적인 문제 제기 필수 (모호하거나 추상적인 이슈는 반려됨)
- 중복 이슈는 반려
- 복잡한 이슈는 쪼개서 새로 작성 가능
- 이슈 등록 후 **24시간 내 선점 가능**, 이후에는 등록자 우선
- **48시간 이내 PR 미제출 시**, 타인 선점 가능
- 부분 구현/수정도 가능
- **본인이 생성한 이슈를 직접 Close 또는 상태 변경 금지**

## 문서화 관련

| 활동 | 점수 |
|------|------|
| 오타 수정 (이슈 없이 PR) | 1점 |
| 문서 이슈 작성 | 1점 |
| 문서 PR (내용 추가/재구성) | 2점 |

**참고사항**
- 자동 생성 문서를 위한 코드/스크립트는 **기능 PR**로 간주
- 코드 주석 및 문서 오타 수정은 **일반 문서화 PR**로 간주

---

## 3. 작업 선점 규칙

- **저장소당 1인 1이슈만 선점 가능**
- 해당 이슈의 PR 제출 전까지, 다른 이슈 선점 불가
- 다른 저장소에서는 동시에 1개씩 작업 가능  
  예: `reposcore-cs`에서 1개, `reposcore-py`에서 1개 →  가능
- 여러 이슈 선점 후 일부만 처리할 경우, **다른 기여자의 기회를 제한할 수 있음**  
→ 자율적으로 규칙을 준수해주세요.

---

## 4. 이슈 작성 가이드

- 문제는 **구체적으로 명시**
  - 관련 파일명 / 함수 / 코드 라인 포함
- 해결 시 기대 동작 및 사용 방식 설명
- 가능하다면 **코드 수정 제안** 또는 예시 첨부
- **본인이 생성한 이슈를 직접 Close하거나 Open 상태 변경 금지**

---

## 5. PR 작성 가이드

- PR 본문 **최상단**에 `참조 이슈: #이슈번호`를 명시
- PR 제출 시 레이블은 자동 지정되지 않음 → 유지보수자에 의해 추가됨
- 외부 기여자는 **수동 레이블 추가 불가**
